<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Promiseæ„é€ å‡½æ•°çš„åæ¨¡å¼</title>
    <url>/2021/04/10/Promise%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%E7%9A%84%E5%8F%8D%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<p>å…ˆä»ä¸€ä¸ªä¾‹å­æ¥çœ‹çœ‹Promiseçš„å¸¸è§çš„ä½¿ç”¨é”™è¯¯ã€‚</p>
<h4 id="Bad-Code"><a href="#Bad-Code" class="headerlink" title="Bad Code"></a>Bad Code</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Bad example! Spot 3 mistakes!</span></span><br><span class="line"></span><br><span class="line">doSomething().then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">  doSomethingElse(result) <span class="comment">// Forgot to return promise from inner chain + unnecessary nesting</span></span><br><span class="line">  .then(<span class="function"><span class="params">newResult</span> =&gt;</span> doThirdThing(newResult));</span><br><span class="line">&#125;).then(<span class="function">() =&gt;</span> doFourthThing());</span><br><span class="line"><span class="comment">// Forgot to terminate chain with a catch!</span></span><br></pre></td></tr></table></figure>

<h4 id="é”™è¯¯è§£æ"><a href="#é”™è¯¯è§£æ" class="headerlink" title="é”™è¯¯è§£æ"></a>é”™è¯¯è§£æ</h4><ul>
<li><p>The first mistake is to not chain things together properly. This happens when we create a new promise but forget to return it. As a consequence, the chain is broken, or rather, we have two independent chains racing. This means <code>doFourthThing()</code> wonâ€™t wait for  <code>doSomethingElse()</code> or <code>doThirdThing()</code> to finish, and will run in parallel with them, likely unintended. Separate chains also have separate error handling, leading to uncaught errors.ï¼ˆè¿™æ ·ä¼šå¯¼è‡´å¤šä¸ªç‹¬ç«‹çš„<code>Promise</code>é“¾å¹¶è¡Œè¿è¡Œï¼Œè€Œä¸”ä¸åŒçš„é“¾éœ€è¦ä¸åŒçš„é”™è¯¯å¤„ç†ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸€äº›æˆ‘ä»¬æ²¡æœ‰é¢„æœŸçš„é”™è¯¯ã€‚ï¼‰</p>
</li>
<li><p>The second mistake is to nest unnecessarily, enabling the first mistake. Nesting also limits the scope of inner error handlers, whichâ€”if unintendedâ€”can lead to uncaught errors. A variant of this is the <a href="https://stackoverflow.com/questions/23803743/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it">promise constructor anti-pattern</a>, which combines nesting with redundant use of the promise constructor to wrap code that already uses promises.ï¼ˆç¬¬äºŒä¸ªé”™è¯¯æ˜¯ä¸å¿…è¦çš„åµŒå¥—ï¼Œä¼šè¯±å‘ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œè€Œä¸”ä¹Ÿæœ‰é”™è¯¯å¤„ç†é—®é¢˜ï¼Œä¸€ä¸ªå˜ä½“å°±æ˜¯<code>promise æ„é€ å‡½æ•°åæ¨¡å¼</code>ï¼Œè¿™ä¸ªæˆ‘ä¼šåœ¨ä¸‹é¢ç»™å‡ºç¤ºä¾‹ï¼‰</p>
</li>
<li><p>The third mistake is forgetting to terminate chains with <code>catch</code>. Unterminated promise chains lead to uncaught promise rejections in most browsers.ï¼ˆç¬¬ä¸‰ä¸ªé”™è¯¯å°±æ˜¯æ²¡æœ‰ç”¨catchæ¥ç»ˆæ­¢<code>promise</code>é“¾ï¼‰</p>
</li>
</ul>
<h4 id="Good-Code"><a href="#Good-Code" class="headerlink" title="Good Code"></a>Good Code</h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">doSomething()</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> doSomethingElse(result);</span><br><span class="line">&#125;)</span><br><span class="line">.then(<span class="function"><span class="params">newResult</span> =&gt;</span> doThirdThing(newResult))</span><br><span class="line">.then(<span class="function">() =&gt;</span> doFourthThing())</span><br><span class="line">.catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="built_in">console</span>.error(error));</span><br></pre></td></tr></table></figure>

<h4 id="åæ¨¡å¼å®šä¹‰"><a href="#åæ¨¡å¼å®šä¹‰" class="headerlink" title="åæ¨¡å¼å®šä¹‰"></a>åæ¨¡å¼å®šä¹‰</h4><p>ä¸‹é¢æ¥è¯´è¯´<code>Promiseçš„æ„é€ å‡½æ•°åæ¨¡å¼</code>,è¿™æ˜¯å®ƒçš„å®šä¹‰<code>which combines nesting with redundant use of the promise constructor to wrap code that already uses promises.</code></p>
<p>Example1ï¼š</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStuffDone</span>(<span class="params">param</span>) </span>&#123;</span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  	<span class="comment">// using a promise constructor</span></span><br><span class="line">   	myPromiseFn(param)</span><br><span class="line">   	.then(<span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line"> 		resolve(val);</span><br><span class="line">   	&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">    	reject(err);</span><br><span class="line">    &#125;);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h4 id="Iview-adminä¸­å¯¹åæ¨¡å¼çš„ä½¿ç”¨"><a href="#Iview-adminä¸­å¯¹åæ¨¡å¼çš„ä½¿ç”¨" class="headerlink" title="Iview adminä¸­å¯¹åæ¨¡å¼çš„ä½¿ç”¨"></a>Iview adminä¸­å¯¹åæ¨¡å¼çš„ä½¿ç”¨</h4><p>å¦å¤–å†çœ‹ä¸€ä¸‹<code>iview admin</code>ä¸­çš„åº”ç”¨ï¼ˆæˆ‘åªæƒ³è¯´è¿™ä¸ªä»£ç å†™çš„å¥½è¿·å‘€ğŸ™„ï¼‰ï¼Œè¿åäº†ä¸Šé¢çš„æ³¨æ„äº‹é¡¹ï¼Œæœ‰ä¸¤æ¡ä¸åŒçš„é“¾ï¼Œè€Œä¸”å¦‚æœå…¶ä¸­ä¸€ä¸ªå‡½æ•°å‡ºé”™ï¼Œé‚£ä¹ˆè‚¯å®šæ˜¯æ²¡æœ‰å¾—åˆ°å¤„ç†ï¼Œæˆ‘è§‰å¾—å¦‚æœä½¿ç”¨çš„åŒ–ï¼Œæœ€èµ·ç åœ¨ä¸¤å¤„åŠ ä¸Š<code>catch</code>è¯­å¥ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="built_in">this</span>.handleLogin(&#123; userName, password &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.getUserInfo().then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="built_in">this</span>.$router.push(&#123;</span><br><span class="line">            name: <span class="built_in">this</span>.$config.homeName</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="comment">//æ”¹æˆé“¾å¼</span></span><br><span class="line"> <span class="built_in">this</span>.handleLogin(&#123; userName, password &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.getUserInfo()</span><br><span class="line"> 		&#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          	<span class="built_in">this</span>.$router.push(&#123;</span><br><span class="line">            name: <span class="built_in">this</span>.$config.homeName</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">&#x27;login error&#x27;</span>))</span><br></pre></td></tr></table></figure>

<p><code>Vuex</code>ä¸­çš„ä»£ç ï¼ˆä»£ç é‡ŒåŠ äº†æ³¨é‡Šï¼‰</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">handleLogin (&#123; commit &#125;, &#123; userName, password &#125;) &#123;</span><br><span class="line">      userName = userName.trim()</span><br><span class="line">    	<span class="comment">//è¿™é‡Œç”¨äº†Promiseçš„æ„é€ å‡½æ•°åæ¨¡å¼</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        login(&#123;</span><br><span class="line">          userName,</span><br><span class="line">          password</span><br><span class="line">        &#125;).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> data = res.data</span><br><span class="line">          commit(<span class="string">&#x27;setToken&#x27;</span>, data.token)</span><br><span class="line">          resolve()</span><br><span class="line">        &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">          reject(err)</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">getUserInfo (&#123; state, commit &#125;) &#123;</span><br><span class="line">     <span class="comment">//è¿™é‡Œç”¨äº†Promiseçš„æ„é€ å‡½æ•°åæ¨¡å¼ï¼Œè¿™é‡Œæ³¨æ„æœ€åTAä½¿ç”¨äº†Try Catchæ¥è§£å†³ä¸åŒé“¾çš„é”™è¯¯å¤„ç†</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          getUserInfo(state.token).then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> data = res.data</span><br><span class="line">         	....</span><br><span class="line">            commit(<span class="string">&#x27;setAccess&#x27;</span>, data.access)</span><br><span class="line">            resolve(data)</span><br><span class="line">          &#125;).catch(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">            reject(err)</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">          reject(error)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>Quoting Esailija:</p>
<p>This is the most common anti-pattern. It is easy to fall into this when you donâ€™t really understand promises and think of them as glorified event emitters or callback utility. Letâ€™s recap: promises are about making asynchronous code retain most of the lost properties of synchronous code such as flat indentation and one exception channel.</p>
<p>å‚è€ƒæ–‡ç« ï¼š</p>
<p> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise</a><br> <a href="https://stackoverflow.com/questions/23803743/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it">https://stackoverflow.com/questions/23803743/what-is-the-explicit-promise-construction-antipattern-and-how-do-i-avoid-it</a><br> <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Using_promises">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Using_promises</a></p>
]]></content>
      <categories>
        <category>front-end</category>
      </categories>
      <tags>
        <tag>Promise</tag>
      </tags>
  </entry>
  <entry>
    <title>JSæ­£åˆ™è¡¨è¾¾å¼è¿·ä½ ä¹¦çŸ¥è¯†ç‚¹æ•´ç†</title>
    <url>/2021/04/29/js%E6%AD%A3%E5%88%99/</url>
    <content><![CDATA[<h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><ul>
<li>Regular expressions are patterns used to match character combinations in strings.</li>
</ul>
<h4 id="çŸ¥è¯†ç‚¹"><a href="#çŸ¥è¯†ç‚¹" class="headerlink" title="çŸ¥è¯†ç‚¹"></a>çŸ¥è¯†ç‚¹</h4><h5 id="å­—ç¬¦åŒ¹é…"><a href="#å­—ç¬¦åŒ¹é…" class="headerlink" title="å­—ç¬¦åŒ¹é…"></a>å­—ç¬¦åŒ¹é…</h5><ul>
<li>æ¨ªå‘æ¨¡ç³ŠåŒ¹é…</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/ab&#123;2,5&#125;c/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;abc abbc abbbc abbbbc abbbbbc abbbbbbc&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) );</span><br><span class="line"><span class="comment">// =&gt; [&quot;abbc&quot;, &quot;abbbc&quot;, &quot;abbbbc&quot;, &quot;abbbbbc&quot;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>çºµå‘æ¨¡ç³ŠåŒ¹é…</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/a[123]b/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;a0b a1b a2b a3b a4b&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) );</span><br><span class="line"><span class="comment">// =&gt; [&quot;a1b&quot;, &quot;a2b&quot;, &quot;a3b&quot;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ†æ”¯ç»“æ„ </li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/good|nice/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;good idea, nice try.&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) );</span><br><span class="line"><span class="comment">// =&gt; [&quot;good&quot;, &quot;nice&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/good|goodbye/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;goodbye&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) );</span><br><span class="line"><span class="comment">//åˆ†æ”¯ç»“æ„ä¹Ÿæ˜¯æƒ°æ€§çš„ï¼Œå³å½“å‰é¢çš„åŒ¹é…ä¸Šäº†ï¼Œåé¢çš„å°±ä¸å†å°è¯•äº†ã€‚</span></span><br></pre></td></tr></table></figure>

<h5 id="ä½ç½®åŒ¹é…"><a href="#ä½ç½®åŒ¹é…" class="headerlink" title="ä½ç½®åŒ¹é…"></a>ä½ç½®åŒ¹é…</h5><p> <code>^</code>   <code>$</code> </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å¯¹äºä½ç½®çš„ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£æˆç©ºå­—ç¬¦ &quot;&quot;ã€‚</span></span><br><span class="line">^ï¼ˆè„±å­—ç¬¦ï¼‰åŒ¹é…å¼€å¤´ï¼Œåœ¨å¤šè¡ŒåŒ¹é…ä¸­åŒ¹é…è¡Œå¼€å¤´ã€‚</span><br><span class="line">$ï¼ˆç¾å…ƒç¬¦å·ï¼‰åŒ¹é…ç»“å°¾ï¼Œåœ¨å¤šè¡ŒåŒ¹é…ä¸­åŒ¹é…è¡Œç»“å°¾ã€‚</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = <span class="string">&quot;hello&quot;</span>.replace(<span class="regexp">/^|$/g</span>, <span class="string">&#x27;#&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// =&gt; &quot;#hello#&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>\b</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// \b æ˜¯å•è¯è¾¹ç•Œï¼Œå…·ä½“å°±æ˜¯ \w ä¸ \W ä¹‹é—´çš„ä½ç½®ï¼Œä¹ŸåŒ…æ‹¬ \w ä¸ ^ ä¹‹é—´çš„ä½ç½®ï¼Œå’Œ \w ä¸ $ ä¹‹é—´çš„ä½ç½®ã€‚</span></span><br><span class="line"><span class="comment">// å¯¹äºä½ç½®çš„ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£æˆç©ºå­—ç¬¦ &quot;&quot;ã€‚(å†æ¥ä¸€é)</span></span><br><span class="line"><span class="keyword">var</span> result = <span class="string">&quot;[JS] Lesson_01.mp4&quot;</span>.replace(<span class="regexp">/\b/g</span>, <span class="string">&#x27;#&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// =&gt; &quot;[#JS#] #Lesson_01#.#mp4#&quot;</span></span><br></pre></td></tr></table></figure>

<p> <code>\B</code> </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// \B å°±æ˜¯ \b çš„åé¢çš„æ„æ€ï¼Œéå•è¯è¾¹ç•Œã€‚ä¾‹å¦‚åœ¨å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ä½ç½®ä¸­ï¼Œæ‰£æ‰ \bï¼Œå‰©ä¸‹çš„éƒ½æ˜¯ \B çš„ã€‚</span></span><br><span class="line"><span class="comment">// å…·ä½“è¯´æ¥å°±æ˜¯ \w ä¸ \wã€ \W ä¸ \Wã€^ ä¸ \Wï¼Œ\W ä¸ $ ä¹‹é—´çš„ä½ç½®ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = <span class="string">&quot;[JS] Lesson_01.mp4&quot;</span>.replace(<span class="regexp">/\B/g</span>, <span class="string">&#x27;#&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// =&gt; &quot;#[J#S]# L#e#s#s#o#n#_#0#1.m#p#4&quot;</span></span><br></pre></td></tr></table></figure>

<p><code>(?=)</code> </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// (?=p)ï¼Œå…¶ä¸­ p æ˜¯ä¸€ä¸ªå­æ¨¡å¼ï¼Œå³ p å‰é¢çš„ä½ç½®ï¼Œæˆ–è€…è¯´ï¼Œè¯¥ä½ç½®åé¢çš„å­—ç¬¦è¦åŒ¹é… pã€‚</span></span><br><span class="line"><span class="comment">// æ¯”å¦‚ (?=l)ï¼Œè¡¨ç¤º &quot;l&quot; å­—ç¬¦å‰é¢çš„ä½ç½®ï¼Œä¾‹å¦‚ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = <span class="string">&quot;hello&quot;</span>.replace(<span class="regexp">/(?=l)/g</span>, <span class="string">&#x27;#&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// =&gt; &quot;he#l#lo&quot;</span></span><br></pre></td></tr></table></figure>

<p> <code>(?!)</code></p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// (?!p) å°±æ˜¯ (?=p) çš„åé¢æ„æ€</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> result = <span class="string">&quot;hello&quot;</span>.replace(<span class="regexp">/(?!l)/g</span>, <span class="string">&#x27;#&#x27;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"><span class="comment">// =&gt; &quot;#h#ell#o#&quot;</span></span><br></pre></td></tr></table></figure>

<h5 id="æ‹¬å·ä½œç”¨"><a href="#æ‹¬å·ä½œç”¨" class="headerlink" title="æ‹¬å·ä½œç”¨"></a>æ‹¬å·ä½œç”¨</h5><ul>
<li>åˆ†ç»„ä¸åˆ†ç»„å¼•ç”¨</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;è¿™æ˜¯æ‹¬å·ä¸€ä¸ªé‡è¦çš„ä½œç”¨ï¼Œæœ‰äº†å®ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œæ•°æ®æå–ï¼Œä»¥åŠæ›´å¼ºå¤§çš„æ›¿æ¢æ“ä½œã€‚&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ†ç»„</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/(ab)+/g</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;ababa abbb ababab&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) );</span><br><span class="line"><span class="comment">// =&gt; [&quot;abab&quot;, &quot;ab&quot;, &quot;ababab&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æˆ‘ä»¬çŸ¥é“ /a+/ åŒ¹é…è¿ç»­å‡ºç°çš„ &quot;a&quot;ï¼Œè€Œè¦åŒ¹é…è¿ç»­å‡ºç°çš„ &quot;ab&quot; æ—¶ï¼Œéœ€è¦ä½¿ç”¨ /(ab)+/ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æå–</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;2017-06-12&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) );</span><br><span class="line"><span class="comment">// =&gt; [&quot;2017-06-12&quot;, &quot;2017&quot;, &quot;06&quot;, &quot;12&quot;, index: 0, input: &quot;2017-06-12&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//match è¿”å›çš„ä¸€ä¸ªæ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´ä½“åŒ¹é…ç»“æœï¼Œç„¶åæ˜¯å„ä¸ªåˆ†ç»„ï¼ˆæ‹¬å·é‡Œï¼‰åŒ¹é…çš„</span></span><br><span class="line"><span class="comment">//å†…å®¹ï¼Œç„¶åæ˜¯åŒ¹é…ä¸‹æ ‡ï¼Œæœ€åæ˜¯è¾“å…¥çš„æ–‡æœ¬ã€‚å¦å¤–ï¼Œæ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦æœ‰ä¿®é¥°ç¬¦ gï¼Œmatch</span></span><br><span class="line"><span class="comment">//è¿”å›çš„æ•°ç»„æ ¼å¼æ˜¯ä¸ä¸€æ ·çš„ã€‚</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//matchè¿”å›æ ¼å¼åŒºåˆ«</span></span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;2017.06.27&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> regex1 = <span class="regexp">/\b(\d+)\b/</span>;</span><br><span class="line"><span class="keyword">var</span> regex2 = <span class="regexp">/\b(\d+)\b/g</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex1) );</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex2) );</span><br><span class="line"><span class="comment">// =&gt; [&quot;2017&quot;, &quot;2017&quot;, index: 0, input: &quot;2017.06.27&quot;]</span></span><br><span class="line"><span class="comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;27&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ²¡æœ‰ gï¼Œè¿”å›çš„æ˜¯æ ‡å‡†åŒ¹é…æ ¼å¼ï¼Œå³ï¼Œæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æ•´ä½“åŒ¹é…çš„å†…å®¹ï¼Œæ¥ä¸‹æ¥æ˜¯åˆ†ç»„æ•è·çš„å†…å®¹ï¼Œç„¶</span></span><br><span class="line"><span class="comment">//åæ˜¯æ•´ä½“åŒ¹é…çš„ç¬¬ä¸€ä¸ªä¸‹æ ‡ï¼Œæœ€åæ˜¯è¾“å…¥çš„ç›®æ ‡å­—ç¬¦ä¸²ã€‚</span></span><br><span class="line"><span class="comment">//æœ‰ gï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰åŒ¹é…çš„å†…å®¹ã€‚</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//æ›¿æ¢</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/(\d&#123;4&#125;)-(\d&#123;2&#125;)-(\d&#123;2&#125;)/</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;2017-06-12&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> result = string.replace(regex, <span class="string">&quot;$2/$3/$1&quot;</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åå‘å¼•ç”¨(å¾ˆé‡è¦çš„åº”ç”¨)</span></span><br><span class="line"><span class="comment">//è¿™é‡Œ\1,ä¿è¯äº†å‰é¢ä½¿ç”¨çš„å’Œç°åœ¨ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªç¬¦å·ã€‚</span></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/\d&#123;4&#125;(-|\/|\.)\d&#123;2&#125;\1\d&#123;2&#125;/</span>;</span><br><span class="line"><span class="keyword">var</span> string1 = <span class="string">&quot;2017-06-12&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> string2 = <span class="string">&quot;2017/06/12&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> string3 = <span class="string">&quot;2017.06.12&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> string4 = <span class="string">&quot;2016-06/12&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( regex.test(string1) ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log( regex.test(string2) ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log( regex.test(string3) ); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log( regex.test(string4) ); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ†æ”¯ç»“æ„</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/^I love (JavaScript|Regular Expression)$/</span>;</span><br><span class="line"><span class="built_in">console</span>.log( regex.test(<span class="string">&quot;I love JavaScript&quot;</span>) );</span><br><span class="line"><span class="built_in">console</span>.log( regex.test(<span class="string">&quot;I love Regular Expression&quot;</span>) );</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"><span class="comment">// =&gt; true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœå»æ‰æ­£åˆ™ä¸­çš„æ‹¬å·ï¼Œå³ï¼š</span></span><br><span class="line"><span class="comment">// /^I love JavaScript|Regular Expression$/ï¼Œ</span></span><br><span class="line"><span class="comment">// åŒ¹é…å­—ç¬¦ä¸²æ˜¯ &quot;I love JavaScript&quot; å’Œ &quot;Regular Expression&quot;ï¼Œå½“ç„¶è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚</span></span><br></pre></td></tr></table></figure>

<h5 id="åŒ¹é…åŸç†"><a href="#åŒ¹é…åŸç†" class="headerlink" title="åŒ¹é…åŸç†"></a>åŒ¹é…åŸç†</h5><ul>
<li>å›æº¯æ³•ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•ã€‚å…¶ä¸­é€€åˆ°ä¹‹å‰çš„æŸä¸€æ­¥è¿™ä¸€è¿‡ç¨‹ï¼Œæˆ‘ä»¬ç§°ä¸ºâ€œå›æº¯â€ã€‚ä»ä¸Šé¢çš„æè¿°è¿‡ç¨‹ä¸­ ï¼Œå¯ä»¥çœ‹å‡ºï¼Œè·¯èµ°ä¸é€šæ—¶ï¼Œå°±ä¼šå‘ç”Ÿâ€œå›æº¯â€ã€‚å³ï¼Œå°è¯•åŒ¹é…å¤±è´¥æ—¶ï¼Œæ¥ä¸‹æ¥çš„ä¸€æ­¥é€šå¸¸å°±æ˜¯å›æº¯ã€‚ä½¿ç”¨åœºæ™¯å¯ä»¥å‚è€ƒæˆ‘ä¹‹å‰ä¸€ç¯‡çš„åšå®¢<code>å…¨æ’åˆ—</code></li>
<li>è´ªå©ªé‡è¯å›æº¯ï¼Œæœ€å…ˆå¼€å§‹å…¨éƒ¨åŒ¹é…å¦‚æœä¸æˆåŠŸï¼Œå°±ä¸€ä¸ªä¸ªå‡å°‘</li>
<li>æƒ°æ€§é‡è¯å›æº¯ï¼Œæœ€å…ˆå¼€å§‹åŒ¹é…æœ€å°‘æƒ…å†µï¼Œå¦‚æœä¸æˆåŠŸï¼Œå†é€’åŠ ã€‚</li>
<li>åˆ†æ”¯ç»“æ„å›æº¯ï¼Œç¬¬ä¸€ä¸ªä¸åˆé€‚ï¼Œå°±æ¢ç¬¬äºŒä¸ªï¼Œå¦‚æ­¤ç±»æ¨ã€‚</li>
</ul>
<p>æœ€åæ¥ä¸ªä¹¦çš„ä½œè€…å½¢è±¡æ€»ç»“ï¼š</p>
<ul>
<li><p>è´ªå©ªé‡è¯â€œè¯•â€çš„ç­–ç•¥æ˜¯ï¼šä¹°è¡£æœç ä»·ã€‚ä»·é’±å¤ªé«˜äº†ï¼Œä¾¿å®œç‚¹ï¼Œä¸è¡Œï¼Œå†ä¾¿å®œç‚¹ã€‚ </p>
</li>
<li><p>æƒ°æ€§é‡è¯â€œè¯•â€çš„ç­–ç•¥æ˜¯ï¼šå–ä¸œè¥¿åŠ ä»·ã€‚ç»™å°‘äº†ï¼Œå†å¤šç»™ç‚¹è¡Œä¸ï¼Œè¿˜æœ‰ç‚¹å°‘å•Šï¼Œå†ç»™ç‚¹ã€‚</p>
</li>
<li><p>åˆ†æ”¯ç»“æ„â€œè¯•â€çš„ç­–ç•¥æ˜¯ï¼šè´§æ¯”ä¸‰å®¶ã€‚è¿™å®¶ä¸è¡Œï¼Œæ¢ä¸€å®¶å§ï¼Œè¿˜ä¸è¡Œï¼Œå†æ¢ã€‚</p>
</li>
</ul>
<h5 id="æ­£åˆ™ä¼˜å…ˆçº§"><a href="#æ­£åˆ™ä¼˜å…ˆçº§" class="headerlink" title="æ­£åˆ™ä¼˜å…ˆçº§"></a>æ­£åˆ™ä¼˜å…ˆçº§</h5><p>â€œè¿™é‡Œç¨å¾®æ€»ç»“ä¸€ä¸‹ï¼Œç«–æ çš„ä¼˜å…ˆçº§æœ€ä½ï¼Œå³æœ€åè¿ç®—ã€‚ åªè¦çŸ¥é“è¿™ä¸€ç‚¹ï¼Œå°±èƒ½è¯»æ‡‚å¤§éƒ¨åˆ†æ­£åˆ™ã€‚â€</p>
<h5 id="æ­£åˆ™è¡¨è¾¾å¼çš„æ„å»º"><a href="#æ­£åˆ™è¡¨è¾¾å¼çš„æ„å»º" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼çš„æ„å»º"></a>æ­£åˆ™è¡¨è¾¾å¼çš„æ„å»º</h5><ul>
<li><p>åŒ¹é…é¢„æœŸçš„å­—ç¬¦ä¸² </p>
</li>
<li><p>ä¸åŒ¹é…éé¢„æœŸçš„å­—ç¬¦ä¸² </p>
</li>
<li><p>å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§</p>
</li>
<li><p>æ•ˆç‡</p>
</li>
</ul>
<h5 id="æ­£åˆ™è¡¨è¾¾å¼ç¼–ç¨‹"><a href="#æ­£åˆ™è¡¨è¾¾å¼ç¼–ç¨‹" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼ç¼–ç¨‹"></a>æ­£åˆ™è¡¨è¾¾å¼ç¼–ç¨‹</h5><ul>
<li>éªŒè¯ </li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/\d/</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;abc123&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( regex.test(string) );</span><br><span class="line"><span class="comment">// =&gt; true</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æå–</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/^(\d&#123;4&#125;)\D(\d&#123;2&#125;)\D(\d&#123;2&#125;)$/</span>;</span><br><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;2017-06-26&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log( string.match(regex) );</span><br><span class="line"><span class="comment">// =&gt;[&quot;2017-06-26&quot;, &quot;2017&quot;, &quot;06&quot;, &quot;26&quot;, index: 0, input: &quot;2017-06-26&quot;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>åˆ†å‰²</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="number">2017</span>/<span class="number">06</span>/<span class="number">26</span></span><br><span class="line"><span class="number">2017.06</span><span class="number">.26</span></span><br><span class="line"><span class="number">2017</span>-<span class="number">06</span>-<span class="number">26</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> regex = <span class="regexp">/\D/</span>;</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">&quot;2017/06/26&quot;</span>.split(regex) );</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">&quot;2017.06.26&quot;</span>.split(regex) );</span><br><span class="line"><span class="built_in">console</span>.log( <span class="string">&quot;2017-06-26&quot;</span>.split(regex) );</span><br><span class="line"><span class="comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;26&quot;]</span></span><br><span class="line"><span class="comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;26&quot;]</span></span><br><span class="line"><span class="comment">// =&gt; [&quot;2017&quot;, &quot;06&quot;, &quot;26&quot;]</span></span><br></pre></td></tr></table></figure>

<ul>
<li>æ›¿æ¢</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> string = <span class="string">&quot;2017-06-26&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> today = <span class="keyword">new</span> <span class="built_in">Date</span>( string.replace(<span class="regexp">/-/g</span>, <span class="string">&quot;/&quot;</span>) );</span><br><span class="line"><span class="built_in">console</span>.log( today );</span><br><span class="line"><span class="comment">// =&gt; Mon Jun 26 2017 00:00:00 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)</span></span><br></pre></td></tr></table></figure>

<h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h4><p>   â€œæ­£åˆ™è¡¨è¾¾å¼æ˜¯åŒ¹é…æ¨¡å¼ï¼Œè¦ä¹ˆåŒ¹é…å­—ç¬¦ï¼Œè¦ä¹ˆåŒ¹é…ä½ç½®â€ã€‚</p>
<p>â€‹    å¦å¤–æˆ‘è§‰å¾—ä½œè€…å¯¹äºçŸ¥è¯†çš„å®šä¹‰å¾ˆæœ‰æ„æ€ï¼Œ â€œä»€ä¹ˆå«çŸ¥è¯†ï¼Œèƒ½æŒ‡å¯¼æˆ‘ä»¬å®è·µçš„ä¸œè¥¿æ‰å«çŸ¥è¯†ã€‚â€œã€‚å­¦ä¹ ç¡®å®ä¸èƒ½æµ…å°è¾„æ­¢ï¼Œä¸€å®šè¦è½åœ°å®æ–½ã€‚</p>
<p>   â€œè¯´èµ·æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä¹‹æ‰€ä»¥ä¼šå»è¯¦ç»†åœ°ç ”ç©¶å®ƒï¼Œæœ€åˆçš„åŠ¨æœºæ˜¯ï¼Œå½“æˆ‘åˆ†æå‰ç«¯å¸¸è§çš„æ¡†æ¶å’Œåº“çš„æºç æ—¶ï¼Œå‘ç°ä¸€èˆ¬è¢«å¡ä½çš„åœ°æ–¹å°±æ˜¯å®ƒã€‚â€ ä»¥ä¸Šéƒ½æ˜¯ä½œè€…åŸè¯ï¼Œ å› ä¸ºä½œè€…å†™è¿™æœ¬ä¹¦çš„åŠ¨æœºæ˜¯ä¸ºäº†åˆ†ææ¡†æ¶æºç ï¼Œä¸ªäººè¿œè¿œæ²¡æœ‰åˆ°è¾¾è¿™ç§é˜¶æ®µï¼Œè€Œä¸”æ—¥å¸¸å¼€å‘ä¸­å‡ ä¹æ²¡æœ‰ä½¿ç”¨è¿‡ï¼Œæ‰€ä»¥è¿™ç¯‡æ–‡ç« ç®—æ˜¯å¯è’™å’Œå‚è€ƒä¹¦å§ã€‚</p>
]]></content>
      <categories>
        <category>æ­£åˆ™</category>
      </categories>
      <tags>
        <tag>æ­£åˆ™</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¢ç§˜Vueæ’æ§½</title>
    <url>/2021/07/30/vue%E6%8F%92%E6%A7%BD%E5%8F%98%E8%BF%81%E5%8F%B2/</url>
    <content><![CDATA[<h3 id="ç»“è®º"><a href="#ç»“è®º" class="headerlink" title="ç»“è®º"></a>ç»“è®º</h3><p>å¼•ç”¨<code>v-slot</code>æ–°è¯­æ³•</p>
<ul>
<li>æ–°çš„<code>v-slot</code>å‘½ä»¤è”åˆäº†<code>slot</code>å’Œ<code>slot-scope</code>åœ¨ä¸€ä¸ªå•å‘½ä»¤è¯­æ³•ä¸­ã€‚</li>
<li><code>v-slot</code>çš„ç®€å†™ï¼Œå¯ä»¥æ½œåœ¨åœ°ç»Ÿä¸€ä½œç”¨åŸŸæ’æ§½å’Œæ™®é€šæ’æ§½çš„ä½¿ç”¨ã€‚</li>
</ul>
<h3 id="åŸºç¡€æ ·ä¾‹"><a href="#åŸºç¡€æ ·ä¾‹" class="headerlink" title="åŸºç¡€æ ·ä¾‹"></a>åŸºç¡€æ ·ä¾‹</h3><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- default slot --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">v-slot</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; msg &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- named slot --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:one</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="æ”¹ç”¨v-slotçš„è¯±å› "><a href="#æ”¹ç”¨v-slotçš„è¯±å› " class="headerlink" title="æ”¹ç”¨v-slotçš„è¯±å› "></a>æ”¹ç”¨<code>v-slot</code>çš„è¯±å› </h3><p>å½“<code>Vue</code>å›¢é˜Ÿç¬¬ä¸€æ¬¡æ¨å‡ºä½œç”¨åŸŸæ’æ§½æ—¶ï¼Œå®ƒçš„ä½¿ç”¨æ–¹æ³•å¾ˆå†—ä½™ï¼Œå› ä¸ºå®ƒè€æ˜¯éœ€è¦ä½¿ç”¨<code>&lt;template slot-scope&gt;</code>è¯­æ³•ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; msg &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸ºäº†ä½œç”¨åŸŸæ’æ§½çš„ä½¿ç”¨æ–¹æ³•æ›´åŠ ç®€æ´ï¼Œåœ¨2.5ç‰ˆæœ¬é‡Œï¼Œå®ç°äº†<code>slot-scope</code>ç›´æ¥åœ¨å…ƒç´ æ’æ§½ä¸Šä½¿ç”¨ï¼Œä¸éœ€è¦å†åŠ ä¸Š<code>template</code>è¿™æ ·æ²¡æœ‰æ„ä¹‰çš„æ ‡ç­¾ã€‚ï¼ˆè¿™æ ·çš„æ”¹è¿›ç¡®å®æ˜¯ä¸€ä¸ªæŒºå¥½çš„åœ°æ–¹ï¼Œä½†æ˜¯å¾ˆå¿«ä»–ä»¬å°±åæ‚”äº†ã€‚ã€‚ã€‚ã€‚ğŸ˜‚ï¼‰</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>è¿™æ ·ä¹Ÿå°±ä»£è¡¨äº†å®ƒåœ¨ç»„ä»¶æ’æ§½ä¸Šä¹ŸåŒæ ·é€‚ç”¨ã€‚</strong>(å™©æ¢¦å¼€å§‹çš„åœ°æ–¹ã€‚ã€‚ã€‚)</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bar</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢ç”¨æ³•å°±å¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼Œ<code>slot-scope</code>å¹¶æ²¡æœ‰å¾ˆå¥½çš„ä½“ç°æ˜¯å“ªä¸€ä¸ªç»„ä»¶æä¾›çš„ä½œç”¨åŸŸå˜é‡ï¼Œè™½ç„¶<code>slot-scope</code>æ”¾åœ¨äº†<code>bar</code>ç»„ä»¶ä¸­ï¼Œä½†æ˜¯å®ƒçš„ä½œç”¨åŸŸå˜é‡å®é™…ä¸Šæ˜¯ç”±<code>foo</code>ä¸­é»˜è®¤æ’æ§½æä¾›çš„ã€‚ç‰¹åˆ«æ˜¯åœ¨ç»„ä»¶åµŒå¥—å±‚çº§å¾ˆæ·±æƒ…å†µä¸‹ï¼Œæ˜¾å¾—å°¤ä¸ºæ¶å¿ƒã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bar</span> <span class="attr">slot-scope</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">baz</span> <span class="attr">slot-scope</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot-scope</span>=<span class="string">&quot;baz&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; foo &#125;&#125; &#123;&#123; bar &#125;&#125; &#123;&#123; baz &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">baz</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢çš„ä¾‹å­æ˜¾ç„¶ä¸èƒ½ç«‹åˆ»çœ‹å‡ºæ¥é‚£ä¸ªç»„ä»¶æä¾›äº†é‚£äº›ä½œç”¨åŸŸå˜é‡ã€‚</p>
<p>ä¸€äº›äººå»ºè®®<code>vue</code>å›¢é˜Ÿï¼Œåº”è¯¥å…è®¸ä½¿ç”¨<code>slot-scope</code>åœ¨ç»„ä»¶è‡ªèº«ä¸Šï¼Œä»¥æ­¤æ¥æ˜¾ç¤ºå®ƒé»˜è®¤æ’æ§½çš„ä½œç”¨åŸŸã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">slot-scope</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; foo &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ ¹æ®ä¸Šé¢çš„ä»‹ç»ï¼Œå¾ˆæ˜æ˜¾è¿™ä¸ªåŠŸèƒ½å®ç°ä¸äº†ï¼Œå› ä¸ºå½“å…·æœ‰æ’æ§½çš„ç»„ä»¶åµŒå¥—æ—¶å¾ˆå®¹æ˜“å¯¼è‡´æ­§ä¹‰ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">foo</span> <span class="attr">slot-scope</span>=<span class="string">&quot;foo&quot;</span>&gt;</span> <span class="comment">&lt;!-- provided by parent or by foo? --&gt;</span></span><br><span class="line">    &#123;&#123; foo &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™å°±æ˜¯ä¸ºå•¥ï¼Œ<code>vue</code>å›¢é˜Ÿåæ‚”åœ¨ä½¿ç”¨<code>slot-scope</code>æ—¶å¯ä»¥ä¸ä½¿ç”¨<code>template</code>.</p>
<p><strong>é‚£ä¹ˆé—®é¢˜å°±æ¥äº†ä¸ºä»€ä¹ˆä¸ç›´æ¥ä¿®æ”¹<code>slot-scope</code>è¯­æ³•ï¼Œè€Œæ˜¯æå‡ºä¸€ä¸ªæ–°çš„<code>vue</code>æŒ‡ä»¤ï¼Ÿ</strong></p>
<ul>
<li>è¿™æ˜¯ä¸€ä¸ªçªç ´æ€§çš„æ”¹å˜ï¼Œä¸èƒ½åœ¨2.xç‰ˆæœ¬å‘å¸ƒã€‚</li>
<li>å³ä½¿åœ¨3.xç‰ˆæœ¬ä¸­å‘å¸ƒï¼Œç„¶è€Œè¿™æ ·ä¼šå¯¼è‡´å¤§é‡é¢å‘<code>Google</code>ç¼–ç¨‹çš„ç¨‹åºå‘˜çš„å›°æƒ‘ï¼ˆå› ä¸ºGoogleå‡ºå¤§é‡å·²ç»è¿‡æ—¶çš„èµ„æ–™ğŸ¤£ï¼‰ã€‚</li>
<li>åœ¨3.xç‰ˆæœ¬ä¸­ï¼Œè®¡åˆ’ç»Ÿä¸€<code>solt</code>ç±»å‹ï¼Œè¿™æ ·å°±æ²¡å¿…è¦åŒºåˆ†ï¼Œä½œç”¨åŸŸæ’æ§½ï¼Œæ™®é€šæ’æ§½å•¦ã€‚æ¯”å¦‚ä¸€ä¸ªæ’æ§½å¯èƒ½ä¼šæ¥å—<code>props</code>ä¹Ÿå¯èƒ½ä¸ä¼šï¼Œä½†æ˜¯è¿™éƒ½æ˜¯æ’æ§½ï¼Œä½†æ˜¯ä½¿ç”¨<code>slot</code>å’Œ<code>slot-scope</code>ä¸¤ä¸ªä¸åŒçš„å±æ€§ï¼Œæ˜¾å¾—ä¸å¿…è¦ã€‚æ‰€ä»¥å‡ºç°è¦ä¸€ä¸ªç»Ÿä¸€çš„è¯­æ³•æ˜¯å¤§åŠ¿æ‰€è¶‹ã€‚</li>
</ul>
<h3 id="ç»†èŠ‚è®¾è®¡"><a href="#ç»†èŠ‚è®¾è®¡" class="headerlink" title="ç»†èŠ‚è®¾è®¡"></a>ç»†èŠ‚è®¾è®¡</h3><p>æ–°çš„æŒ‡ä»¤ç»ˆäºè¯ç”Ÿäº†<code>v-slot</code></p>
<p>å®ƒå¯ä»¥è¢«ç”¨åœ¨<code>template</code>æ’æ§½å®¹å™¨ä¸Šï¼Œä»¥è¡¨ç¤ºä¼ é€’ç»™ç»„ä»¶çš„æ’æ§½ï¼Œå…¶ä¸­æ’æ§½åç§°é€šè¿‡æŒ‡ä»¤å‚æ•°è¡¨ç¤º</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;body&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:footer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åœ¨<code>v-slot</code>ä½œç”¨åŸŸæ’æ§½,å¯ä»¥é€šè¿‡å‘½ä»¤çš„å±æ€§å€¼æ¥æ¥æ”¶<code>slot props</code>ï¼ŒåŒæ—¶<code>v-slot</code>çš„å€¼å’Œ<code>slot-scope</code>æœ‰åŒæ ·çš„è¿è¡Œæ–¹å¼ï¼Œéƒ½æ”¯æŒè§£æ„è¯­æ³•ã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:header</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span>&gt;</span></span><br><span class="line">      Message from header slot: &#123;&#123; msg &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>v-slot</code>å¯ä»¥ç›´æ¥è¢«ç”¨äºç»„ä»¶ä¸Šï¼Œä¸éœ€è¦ä»»ä½•å‚æ•°æ¥è¡¨æ˜ç»„ä»¶çš„é»˜è®¤æ’æ§½æ˜¯ä½œç”¨åŸŸæ’æ§½ï¼Œè€Œä¸”ä¼ å‘é»˜è®¤æ’æ§½çš„å˜é‡å’Œæ²¡æœ‰åšå£°æ˜çš„æ’æ§½ä¼ å…¥çš„å˜é‡æ˜¯åŒæ ·çš„æ•ˆæœã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">v-slot</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; msg &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="æ–°ç¥VSæ—§ç¥"><a href="#æ–°ç¥VSæ—§ç¥" class="headerlink" title="æ–°ç¥VSæ—§ç¥"></a>æ–°ç¥VSæ—§ç¥</h3><p>å¯¹å¤§å¤šæ•°ä½œç”¨åŸŸæ’æ§½çš„ä½¿ç”¨ï¼ˆå•ä¸ªé»˜è®¤æ’æ§½ï¼‰ï¼Œä»ç„¶æä¾›ç®€æ´çš„è¯­æ³•</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;foo v-slot&#x3D;&quot;&#123; msg &#125;&quot;&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;foo&gt;</span><br></pre></td></tr></table></figure>

<p>æ–°çš„è¯­æ³•æä¾›æ›´æ˜ç¡®çš„ä½œç”¨åŸŸå˜é‡ï¼Œå’Œæ’æ§½çš„å…³ç³»ã€‚å†æ¥çœ‹ä¸€ä¸‹ç”¨<code>slot-scope</code>,<code>v-slot</code>æ·±å±‚åµŒå¥—çš„çš„æ¯”è¾ƒã€‚</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bar</span> <span class="attr">slot-scope</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">baz</span> <span class="attr">slot-scope</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot-scope</span>=<span class="string">&quot;baz&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; foo &#125;&#125; &#123;&#123; bar &#125;&#125; &#123;&#123; baz &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">baz</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">v-slot</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bar</span> <span class="attr">v-slot</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">baz</span> <span class="attr">v-slot</span>=<span class="string">&quot;baz&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; foo &#125;&#125; &#123;&#123; bar &#125;&#125; &#123;&#123; baz &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">baz</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æ’æ§½ä¸­å…·æœ‰æ–‡æœ¬</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- old --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- new --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">v-slot</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">  &#123;&#123; msg &#125;&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æ’æ§½å’Œå…ƒç´ </p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- old --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- new --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">v-slot</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åµŒå¥—é»˜è®¤æ’æ§½</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- old --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bar</span> <span class="attr">slot-scope</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">baz</span> <span class="attr">slot-scope</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;baz&quot;</span>&gt;</span></span><br><span class="line">        &#123;&#123; foo &#125;&#125; &#123;&#123; bar &#125;&#125; &#123;&#123; baz &#125;&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">baz</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- new --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span> <span class="attr">v-slot</span>=<span class="string">&quot;foo&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bar</span> <span class="attr">v-slot</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">baz</span> <span class="attr">v-slot</span>=<span class="string">&quot;baz&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; foo &#125;&#125; &#123;&#123; bar &#125;&#125; &#123;&#123; baz &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">baz</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å…·åæ’æ§½</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- old --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;one&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    text slot: &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot</span>=<span class="string">&quot;two&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    element slot: &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- new --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:one</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    text slot: &#123;&#123; msg &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:two</span>=<span class="string">&quot;&#123; msg &#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">      element slot: &#123;&#123; msg &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åµŒå¥—æ··åˆå…·åä¸é»˜è®¤æ’æ§½</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- old --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bar</span> <span class="attr">slot</span>=<span class="string">&quot;one&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;one&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot-scope</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; one &#125;&#125; &#123;&#123; bar &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bar</span> <span class="attr">slot</span>=<span class="string">&quot;two&quot;</span> <span class="attr">slot-scope</span>=<span class="string">&quot;two&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">slot-scope</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; two &#125;&#125; &#123;&#123; bar &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- new --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">foo</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:one</span>=<span class="string">&quot;one&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bar</span> <span class="attr">v-slot</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; one &#125;&#125; &#123;&#123; bar &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:two</span>=<span class="string">&quot;two&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bar</span> <span class="attr">v-slot</span>=<span class="string">&quot;bar&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;&#123; two &#125;&#125; &#123;&#123; bar &#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bar</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">foo</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="headerlink" title="ç¼ºç‚¹"></a>ç¼ºç‚¹</h3><ul>
<li>å¼•å…¥æ–°çš„è¯­æ³•ä¼šå¸¦æ¥æ··ä¹±ï¼Œå¹¶ä½¿ç”Ÿæ€ç³»ç»Ÿä¸­æœ‰å…³æ­¤ä¸»é¢˜çš„è®¸å¤šå­¦ä¹ ææ–™è¿‡æ—¶ã€‚æ–°ç”¨æˆ·å¯èƒ½ä¼šåœ¨é˜…è¯»ç°æœ‰æ•™ç¨‹åå‘ç°æ–°è¯­æ³•è€Œæ„Ÿåˆ°å›°æƒ‘ã€‚</li>
<li>é»˜è®¤çš„æ§½ä½¿ç”¨<code>v-lot=â€œ&#123;msg&#125;â€</code>å¹¶ä¸èƒ½å‡†ç¡®åœ°ä¼ è¾¾è¿™æ ·çš„æ¦‚å¿µï¼Œå³msgæ˜¯ä½œä¸º<code>prop</code>ä¼ é€’ç»™æ§½çš„ã€‚</li>
</ul>
<h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><ul>
<li><p>æ³¨æ„ <strong><code>v-slot</code> åªèƒ½æ·»åŠ åœ¨ <code>&lt;template&gt;</code> ä¸Š</strong>ï¼Œ(åªæœ‰<a href="https://cn.vuejs.org/v2/guide/components-slots.html#%E7%8B%AC%E5%8D%A0%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD%E7%9A%84%E7%BC%A9%E5%86%99%E8%AF%AD%E6%B3%95">ä¸€ç§ä¾‹å¤–æƒ…å†µ</a>) ã€‚</p>
</li>
<li><p>å½“è¢«æä¾›çš„å†…å®¹<em>åªæœ‰</em>é»˜è®¤æ’æ§½æ—¶ï¼Œç»„ä»¶çš„æ ‡ç­¾æ‰å¯ä»¥è¢«å½“ä½œæ’æ§½çš„æ¨¡æ¿æ¥ä½¿ç”¨ã€‚</p>
</li>
<li><p>åªè¦å‡ºç°å¤šä¸ªæ’æ§½ï¼Œè¯·å§‹ç»ˆä¸ºæ‰€æœ‰çš„æ’æ§½ä½¿ç”¨å®Œæ•´çš„åŸºäº <code>&lt;template&gt;</code> çš„è¯­æ³•</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">current-user</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:default</span>=<span class="string">&quot;slotProps&quot;</span>&gt;</span></span><br><span class="line">    &#123;&#123; slotProps.user.firstName &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:other</span>=<span class="string">&quot;otherSlotProps&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">current-user</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h3><p><strong>æ’æ§½ prop å…è®¸æˆ‘ä»¬å°†æ’æ§½è½¬æ¢ä¸ºå¯å¤ç”¨çš„æ¨¡æ¿ï¼Œè¿™äº›æ¨¡æ¿å¯ä»¥åŸºäºè¾“å…¥çš„ prop æ¸²æŸ“å‡ºä¸åŒçš„å†…å®¹ã€‚</strong></p>
<p>æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸ª todo ä½œä¸ºçˆ¶çº§ç»„ä»¶çš„æ’æ§½ï¼Œä»¥æ­¤é€šè¿‡çˆ¶çº§ç»„ä»¶å¯¹å…¶è¿›è¡Œæ§åˆ¶ï¼Œç„¶åå°† <code>todo</code> ä½œä¸ºä¸€ä¸ªæ’æ§½ prop è¿›è¡Œç»‘å®šï¼š</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">  &lt;li</span><br><span class="line">    v-for=&quot;todo in filteredTodos&quot;</span><br><span class="line">    v-bind:key=&quot;todo.id&quot;</span><br><span class="line">  &gt;</span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    æˆ‘ä»¬ä¸ºæ¯ä¸ª todo å‡†å¤‡äº†ä¸€ä¸ªæ’æ§½ï¼Œ</span></span><br><span class="line"><span class="comment">    å°† `todo` å¯¹è±¡ä½œä¸ºä¸€ä¸ªæ’æ§½çš„ prop ä¼ å…¥ã€‚</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;todo&quot;</span> <span class="attr">v-bind:todo</span>=<span class="string">&quot;todo&quot;</span>&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- åå¤‡å†…å®¹ --&gt;</span></span><br><span class="line">      &#123;&#123; todo.text &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">todo-list</span> <span class="attr">v-bind:todos</span>=<span class="string">&quot;todos&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:todo</span>=<span class="string">&quot;&#123; todo &#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">v-if</span>=<span class="string">&quot;todo.isComplete&quot;</span>&gt;</span>âœ“<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    &#123;&#123; todo.text &#125;&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">todo-list</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p><em>ç¿»è‡ªï¼š</em></p>
<p><a href="https://github.com/vuejs/rfcs/blob/master/active-rfcs/0001-new-slot-syntax.md">https://github.com/vuejs/rfcs/blob/master/active-rfcs/0001-new-slot-syntax.md</a></p>
<p><a href="https://cn.vuejs.org/v2/guide/components-slots.html#ad">https://cn.vuejs.org/v2/guide/components-slots.html#ad</a></p>
]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vueæ’æ§½</tag>
        <tag>ç¿»è¯‘</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¸‰æ å¸ƒå±€</title>
    <url>/2021/04/09/%E4%B8%89%E6%A0%8F%E5%B8%83%E5%B1%80/</url>
    <content><![CDATA[<h3 id="ä¸‰æ å¸ƒå±€"><a href="#ä¸‰æ å¸ƒå±€" class="headerlink" title="ä¸‰æ å¸ƒå±€"></a>ä¸‰æ å¸ƒå±€</h3><h4 id="åœ£æ¯å¸ƒå±€"><a href="#åœ£æ¯å¸ƒå±€" class="headerlink" title="åœ£æ¯å¸ƒå±€"></a>åœ£æ¯å¸ƒå±€</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">120px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &gt; <span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">220px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: pink;		</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">120px</span>;	</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span><span class="selector-pseudo">::after</span>&#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="åŒé£ç¿¼å¸ƒå±€"><a href="#åŒé£ç¿¼å¸ƒå±€" class="headerlink" title="åŒé£ç¿¼å¸ƒå±€"></a>åŒé£ç¿¼å¸ƒå±€</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &gt; <span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.middle</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">220px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: -<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: pink;			</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Flexå¸ƒå±€"><a href="#Flexå¸ƒå±€" class="headerlink" title="Flexå¸ƒå±€"></a>Flexå¸ƒå±€</h4><p>Flexå¸ƒå±€çš„ç¼ºç‚¹æ˜¯å…¼å®¹æ€§é—®é¢˜ï¼Œå¦‚æœIE10+è¿˜æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">    <span class="attribute">flex-shrink</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">order</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.main</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">    <span class="attribute">flex-grow</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: pink;</span><br><span class="line">    <span class="attribute">flex-shrink</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="æµå¼å¸ƒå±€"><a href="#æµå¼å¸ƒå±€" class="headerlink" title="æµå¼å¸ƒå±€"></a>æµå¼å¸ƒå±€</h4><p>æµå¼å¸ƒå±€çš„ç¼ºç‚¹æ˜¯ï¼Œä¸èƒ½ä½¿contentå†…å®¹ä¼˜å…ˆæ¸²æŸ“ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    <span class="comment">/*display: flow-root;*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span>&#123;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">240px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="comment">/*overflow: hidden;*/</span></span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">float</span><span class="selector-pseudo">:left</span>;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">220px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: pink;			</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="ç»å¯¹å®šä½å¸ƒå±€"><a href="#ç»å¯¹å®šä½å¸ƒå±€" class="headerlink" title="ç»å¯¹å®šä½å¸ƒå±€"></a>ç»å¯¹å®šä½å¸ƒå±€</h4><p>ç»å¯¹å®šä½å¸ƒå±€ï¼Œç®€å•å®ç”¨ã€‚</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.container</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.center</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.left</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.right</span>&#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: green;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://zhuanlan.zhihu.com/p/25070186">https://zhuanlan.zhihu.com/p/25070186</a></p>
]]></content>
      <categories>
        <category>front-end</category>
      </categories>
      <tags>
        <tag>CSS</tag>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>äº‹ä»¶å¾ªç¯è¯¦è§£</title>
    <url>/2021/08/13/%E4%BA%8B%E4%BB%B6%E5%BE%AA%E7%8E%AF%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<h1 id="JSäº‹ä»¶å¾ªç¯"><a href="#JSäº‹ä»¶å¾ªç¯" class="headerlink" title="JSäº‹ä»¶å¾ªç¯"></a>JSäº‹ä»¶å¾ªç¯</h1><h3 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script start&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;setTimeout&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve()</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>);</span><br><span class="line">  &#125;)</span><br><span class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;script end&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥è¯•ä¸€ä¸‹ä»–çš„è¾“å‡ºé¡ºåºã€‚</p>
<h3 id="ç­”æ¡ˆ"><a href="#ç­”æ¡ˆ" class="headerlink" title="ç­”æ¡ˆ"></a>ç­”æ¡ˆ</h3><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">script start</span><br><span class="line">script end</span><br><span class="line">promise1</span><br><span class="line">promise2</span><br><span class="line"><span class="built_in">setTimeout</span></span><br></pre></td></tr></table></figure>

<p><em>åœ¨å¾®è½¯çš„Edgeæµè§ˆå™¨ï¼Œå’Œç«ç‹40ï¼ŒSafari 8.0.8ä¸­<code>setTimeout</code>ä¼šæ¯”<code>promise1</code>å’Œ<code>promise2</code>å…ˆè¾“å‡ºï¼Œå‡ºç°è¿™ç§æƒ…å†µçœŸæ˜¯å¥‡äº†TMLæ€ªï¼Œå› ä¸ºFirefox39å’ŒSafari8.0.7ä¸€ç›´éƒ½æ˜¯æ­£ç¡®çš„ã€‚</em></p>
<h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3><p>æƒ³è¦äº†è§£äº‹ä»¶å¾ªç¯ï¼Œéœ€è¦å…ˆäº†è§£äº‹ä»¶å¾ªç¯æ˜¯å¦‚ä½•å¤„ç†å®ä»»åŠ¡ï¼Œä¸å¾®ä»»åŠ¡ã€‚</p>
<p>æ¯ä¸€ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„äº‹ä»¶å¾ªç¯æœºåˆ¶ã€‚æ‰€ä»¥æ¯ä¸€ä¸ª<a href="https://developer.mozilla.org/zh-TW/docs/Web/API/Web_Workers_API/Using_web_workers"><code>web worker</code></a> éƒ½æ˜¯ç‹¬ç«‹æ‰§è¡Œçš„ï¼Œä½†æ˜¯åœ¨åŒä¸€ä¸ªåŸŸåçš„çª—å£æ˜¯åŒç”¨ä¸€ä¸ªäº‹ä»¶å¾ªç¯ï¼Œæ‰€ä»¥ä»–ä»¬æ‰å¯ä»¥åŒæ­¥é€šä¿¡ã€‚äº‹ä»¶å¾ªç¯é¡ºåºæ‰§è¡Œé˜Ÿåˆ—ä»»åŠ¡ã€‚</p>
<h1 id="Nodejsäº‹ä»¶å¾ªç¯"><a href="#Nodejsäº‹ä»¶å¾ªç¯" class="headerlink" title="Nodejsäº‹ä»¶å¾ªç¯"></a>Nodejsäº‹ä»¶å¾ªç¯</h1><p>Nodejsçš„äº‹ä»¶å¾ªç¯ä¸æµè§ˆå™¨çš„äº‹ä»¶å¾ªç¯æœºåˆ¶å¹¶ä¸ç›¸åŒï¼ŒNodejsè™½ç„¶ä½¿ç”¨<code>Chrome v8</code>ä½œä¸ºJSè§£é‡Šå¼•æ“ï¼Œä½†æ˜¯å¼‚æ­¥æ§åˆ¶çš„å®ç°æ˜¯åœ¨<code>libuv</code>åº“ä¸­ã€‚</p>
<p>æ¥ä¸ªæ —å­</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;start&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;timer1&#x27;</span>)</span><br><span class="line">	<span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&#x27;promise1&#x27;</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;timer2&#x27;</span>)</span><br><span class="line">	<span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="built_in">console</span>.log(<span class="string">&#x27;promise2&#x27;</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;,<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">Promise</span>.resolve().then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">&#x27;promise3&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;end&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// start,</span></span><br><span class="line"><span class="comment">// end,</span></span><br><span class="line"><span class="comment">// promise3,</span></span><br><span class="line"><span class="comment">// timer1,</span></span><br><span class="line"><span class="comment">// timer2,</span></span><br><span class="line"><span class="comment">// promise1,</span></span><br><span class="line"><span class="comment">// promise2</span></span><br></pre></td></tr></table></figure>





<p>å‚è€ƒé“¾æ¥</p>
<p><a href="https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/">https://jakearchibald.com/2015/tasks-microtasks-queues-and-schedules/</a></p>
<p><a href="https://mp.weixin.qq.com/s/hE-tK_PbSYkMms8P9b2H7A">https://mp.weixin.qq.com/s/hE-tK_PbSYkMms8P9b2H7A</a></p>
<p><a href="https://nodejs.org/zh-cn/docs/guides/event-loop-timers-and-nexttick/">https://nodejs.org/zh-cn/docs/guides/event-loop-timers-and-nexttick/</a></p>
]]></content>
      <categories>
        <category>ç¿»è¯‘</category>
      </categories>
      <tags>
        <tag>JS</tag>
      </tags>
  </entry>
  <entry>
    <title>å…¨æ’åˆ—</title>
    <url>/2021/04/24/%E5%85%A8%E6%8E%92%E5%88%97/</url>
    <content><![CDATA[<h4 id="å…¨æ’åˆ—1"><a href="#å…¨æ’åˆ—1" class="headerlink" title="å…¨æ’åˆ—1"></a>å…¨æ’åˆ—1</h4><ul>
<li>ç»™å®šä¸€ä¸ª <strong>æ²¡æœ‰é‡å¤</strong> æ•°å­—çš„åºåˆ—ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> permute = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length == <span class="number">0</span> )&#123;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> res = [], path = [], used = [];</span><br><span class="line"></span><br><span class="line">    dfs(res, nums, <span class="number">0</span>, path, nums.length, used);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">res, nums, depth, path, len, used</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(depth == len)&#123;</span><br><span class="line">        res.push([...path]);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(!used[i])&#123;</span><br><span class="line">            path.push(nums[i]);</span><br><span class="line">            used[i] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            dfs(res, nums, depth + <span class="number">1</span> , path, len, used)</span><br><span class="line">			</span><br><span class="line">            path.pop();</span><br><span class="line">            used[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>è¿™ç§ç»å…¸çš„ç®—æ³•é¢˜ï¼Œæœ€å¼€å§‹å¯èƒ½çº ç»“äºä»£ç çš„æ‰§è¡Œé¡ºåºï¼ˆå¯ä»¥åœ¨è¿è¡Œç¯å¢ƒä¸­æ‰“æ–­ç‚¹ï¼Œä¸€æ­¥ä¸€æ­¥æ‰§è¡Œï¼Œè‡ªå·±çœ‹çœ‹é¡ºåºï¼‰ï¼Œåœ¨æˆ‘çœ‹æ¥æœ€é‡è¦çš„æ˜¯ç®—æ³•ç»“æ„ï¼Œæ¯”å¦‚è¿™é‡Œè§£å†³é—®é¢˜çš„æ€è·¯å°±æ˜¯é€šè¿‡<code>for</code>å¾ªç¯é‡ŒåŠ é€’å½’çš„ç»“æ„ï¼Œä½¿ç”¨è¿™ä¸ªç»“æ„çš„ç‰¹ç‚¹æ˜¯ï¼Œæ‰§è¡Œé€’å½’åé¢çš„ä»£ç ä¹‹åï¼Œä¼šç»§ç»­å‚åŠ <code>for</code>å¾ªç¯ï¼Œå°±æ˜¯åœ¨è¿™é‡Œå®ç°äº†æ’åˆ—ã€‚</p>
<h4 id="å…¨æ’åˆ—2"><a href="#å…¨æ’åˆ—2" class="headerlink" title="å…¨æ’åˆ—2"></a>å…¨æ’åˆ—2</h4><p>ç»™å®šä¸€ä¸ªå¯åŒ…å«é‡å¤æ•°å­—çš„åºåˆ— <code>nums</code> ï¼Œ<strong>æŒ‰ä»»æ„é¡ºåº</strong> è¿”å›æ‰€æœ‰ä¸é‡å¤çš„å…¨æ’åˆ—ã€‚</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> permuteUnique = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums.length === <span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> [res,path,used] = [[],[],[]];</span><br><span class="line"></span><br><span class="line">    nums.sort(<span class="function">(<span class="params">val1, val2</span>) =&gt;</span> val1 -val2);</span><br><span class="line"></span><br><span class="line">    dfs(res, path, used, nums, nums.length, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> res; </span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">dfs</span>(<span class="params">res, path, used, nums, len, depth</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(depth === len)&#123;</span><br><span class="line">        res.push([...path]);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len;i++)&#123;</span><br><span class="line">        <span class="comment">//å‰ªææ¡ä»¶</span></span><br><span class="line">        <span class="keyword">if</span>(i &gt; <span class="number">0</span> &amp;&amp; !used[i-<span class="number">1</span>] &amp;&amp; nums[i] === nums[i - <span class="number">1</span>])&#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(!used[i])&#123;</span><br><span class="line">            path.push(nums[i])</span><br><span class="line">            used[i] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            dfs(res, path, used, nums, len, depth + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">            path.pop();</span><br><span class="line">            used[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>è¿™é‡Œå¤šäº†ä¸€ä¸ªå‰ªææ¡ä»¶ï¼ŒåŒæ—¶æ³¨æ„è¿™é‡Œé¦–å…ˆè¿›è¡Œäº†æ’åºå¤„ç†ã€‚</p>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://leetcode-cn.com/problems/permutations-ii/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liwe-2/">https://leetcode-cn.com/problems/permutations-ii/solution/hui-su-suan-fa-python-dai-ma-java-dai-ma-by-liwe-2/</a></p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>å…¨æ’åˆ—</tag>
        <tag>å›æº¯</tag>
      </tags>
  </entry>
  <entry>
    <title>å›æµä¸é‡ç»˜</title>
    <url>/2021/04/18/%E5%9B%9E%E6%B5%81%E4%B8%8E%E9%87%8D%E7%BB%98/</url>
    <content><![CDATA[<h3 id="æµè§ˆå™¨æ¸²æŸ“çš„å…³é”®è·¯å¾„"><a href="#æµè§ˆå™¨æ¸²æŸ“çš„å…³é”®è·¯å¾„" class="headerlink" title="æµè§ˆå™¨æ¸²æŸ“çš„å…³é”®è·¯å¾„"></a>æµè§ˆå™¨æ¸²æŸ“çš„å…³é”®è·¯å¾„</h3><p>The critical rendering path includes the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model">Document Object Model </a>(DOM), <a href="https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model">CSS Object Model </a>(CSSOM), render tree and layout.</p>
<p><img src="/images/critical-rendering-path.png"></p>
<h3 id="å…³äºæ¸²æŸ“æ ‘"><a href="#å…³äºæ¸²æŸ“æ ‘" class="headerlink" title="å…³äºæ¸²æŸ“æ ‘"></a>å…³äºæ¸²æŸ“æ ‘</h3><p>The render tree only captures visible content. The head section (generally) doesnâ€™t contain any visible information, and is therefore not included in the render tree. If thereâ€™s a display: none; set on an element, neither it, nor any of its descendants, are in the render tree.</p>
<p><img src="/images/render-tree-construction.png"></p>
<p>To construct the render tree, the browser roughly does the following:</p>
<ol>
<li>Starting at the root of the DOM tree, traverse each visible node.<ul>
<li>Some nodes are not visible (for example, script tags, meta tags, and so on), and are omitted since they are not reflected in the rendered output.</li>
<li>Some nodes are hidden via CSS and are also omitted from the render tree; for example, the span nodeâ€”in the example aboveâ€”is missing from the render tree because we have an explicit rule that sets the â€œdisplay: noneâ€ property on it.</li>
</ul>
</li>
<li>For each visible node, find the appropriate matching CSSOM rules and apply them.</li>
<li>Emit visible nodes with content and their computed styles.</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">note that visibility: hidden is different from display: none. </span><br><span class="line">The former makes the element invisible, but the element still occupies space in the layout (that is, it&#39;s rendered as an empty box), </span><br><span class="line">whereas the latter (display: none) removes the element entirely from the render tree such that the element is invisible and is not part of the layout.</span><br></pre></td></tr></table></figure>

<h4 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h4><p>ç”Ÿæˆâ€œå¸ƒå±€â€ï¼ˆlayoutï¼‰å’Œâ€ç»˜åˆ¶â€ï¼ˆpaintï¼‰è¿™ä¸¤æ­¥ï¼Œåˆç§°ä¸ºâ€æ¸²æŸ“â€ï¼ˆrenderï¼‰ã€‚</p>
<p>èŠåˆ°æ¸²æŸ“æˆ‘åˆæƒ³å†™å†™CSSçš„æ¸²æŸ“é˜»å¡ï¼ŒCSSä¸ä¼šé˜»å¡Domè§£æï¼Œä½†æ˜¯ä¼šé˜»å¡Domæ¸²æŸ“ï¼Œé˜»å¡JSçš„æ‰§è¡Œï¼Œæœ‰åŒå­¦å¯èƒ½ä¼šæœ‰JSï¼ŒCSSä¸‹è½½æ—¶é—´çš„ç–‘æƒ‘ï¼Œè¿™å°±ä¸å¾—ä¸æé¢„åŠ è½½æ‰«æå™¨ï¼ˆPreload Scannerï¼‰ã€‚</p>
<p>è¿™æ˜¯MDNçš„åŸè¯ï¼š</p>
<p>While the browser builds the DOM tree, this process occupies the main thread. As this happens, the <em>preload scanner</em> will parse through the content available and request high priority resources like CSS, JavaScript, and web fonts. Thanks to the preload scanner, we donâ€™t have to wait until the parser finds a reference to an external resource to request it. It will retrieve resources in the background so that by the time the main HTML parser reaches requested assets, they may possibly already be in flight, or have been downloaded. The optimizations the preload scanner provides reduce blockages.</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">src</span>=<span class="string">&quot;styles.css&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;myscript.js&quot;</span> <span class="attr">async</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;myimage.jpg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;image description&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;anotherscript.js&quot;</span> <span class="attr">async</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>In this example, while the main thread is parsing the HTML and CSS, the preload scanner will find the scripts and image, and start downloading them as well.  To ensure the script doesnâ€™t block the process, add the <code>async</code> attribute, or the <code>defer</code> attribute if JavaScript parsing and execution order is not important.</p>
<p>Waiting to obtain CSS doesnâ€™t block HTML parsing or downloading, but it does block JavaScript, because JavaScript is often used to query CSS propertiesâ€™ impact on elements.</p>
<h3 id="å¸ƒå±€ä¸ç»˜åˆ¶å®šä¹‰"><a href="#å¸ƒå±€ä¸ç»˜åˆ¶å®šä¹‰" class="headerlink" title="å¸ƒå±€ä¸ç»˜åˆ¶å®šä¹‰"></a>å¸ƒå±€ä¸ç»˜åˆ¶å®šä¹‰</h3><h4 id="å¸ƒå±€"><a href="#å¸ƒå±€" class="headerlink" title="å¸ƒå±€"></a>å¸ƒå±€</h4><p>Once the render tree is built, layout becomes possible. Layout is dependent on the size of screen. The layout step determines where and how the elements are positioned on the page, determining the width and height of each element, and where they are in relation to each other.</p>
<h4 id="ç»˜åˆ¶"><a href="#ç»˜åˆ¶" class="headerlink" title="ç»˜åˆ¶"></a>ç»˜åˆ¶</h4><p>The last step is painting the pixels to the screen. Once the render tree is created and layout occurs, the pixels can be painted to the screen. Onload, the entire screen is painted. After that, only impacted areas of the screen will be repainted, as browsers are optimized to repaint the minimum area required. Paint time depends on what kind of updates are being applied to the render tree.</p>
<h3 id="å¸ƒå±€è§¦å‘æ¡ä»¶"><a href="#å¸ƒå±€è§¦å‘æ¡ä»¶" class="headerlink" title="å¸ƒå±€è§¦å‘æ¡ä»¶"></a>å¸ƒå±€è§¦å‘æ¡ä»¶</h3><p> Any time the render tree is modified, such as by added nodes, altered content, or updated box model styles on a node, layout occurs.</p>
<h3 id="å…³äºç»˜åˆ¶"><a href="#å…³äºç»˜åˆ¶" class="headerlink" title="å…³äºç»˜åˆ¶"></a>å…³äºç»˜åˆ¶</h3><p>While painting is a very fast process, and therefore likely not the most impactful place to focus on in improving performanceã€‚</p>
<h3 id="æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶"><a href="#æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶" class="headerlink" title="æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶"></a>æµè§ˆå™¨ä¼˜åŒ–æœºåˆ¶</h3><p>ç°ä»£çš„æµè§ˆå™¨éƒ½æ˜¯å¾ˆèªæ˜çš„ï¼Œç”±äºæ¯æ¬¡é‡æ’éƒ½ä¼šé€ æˆé¢å¤–çš„è®¡ç®—æ¶ˆè€—ï¼Œå› æ­¤å¤§å¤šæ•°æµè§ˆå™¨éƒ½ä¼šé€šè¿‡é˜Ÿåˆ—åŒ–ä¿®æ”¹å¹¶æ‰¹é‡æ‰§è¡Œæ¥ä¼˜åŒ–é‡æ’è¿‡ç¨‹ã€‚æµè§ˆå™¨ä¼šå°†ä¿®æ”¹æ“ä½œæ”¾å…¥åˆ°é˜Ÿåˆ—é‡Œï¼Œç›´åˆ°è¿‡äº†ä¸€æ®µæ—¶é—´æˆ–è€…æ“ä½œè¾¾åˆ°äº†ä¸€ä¸ªé˜ˆå€¼ï¼Œæ‰æ¸…ç©ºé˜Ÿåˆ—ã€‚ä½†æ˜¯ï¼<strong>å½“ä½ è·å–å¸ƒå±€ä¿¡æ¯çš„æ“ä½œçš„æ—¶å€™ï¼Œä¼šå¼ºåˆ¶é˜Ÿåˆ—åˆ·æ–°</strong>ï¼Œæ¯”å¦‚å½“ä½ è®¿é—®ä»¥ä¸‹å±æ€§æˆ–è€…ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p>
<ul>
<li>offsetTopã€offsetLeftã€offsetWidthã€offsetHeight</li>
<li>scrollTopã€scrollLeftã€scrollWidthã€scrollHeight</li>
<li>clientTopã€clientLeftã€clientWidthã€clientHeight</li>
<li>getComputedStyle()</li>
<li>getBoundingClientRect</li>
<li>å…·ä½“å¯ä»¥è®¿é—®è¿™ä¸ªç½‘ç«™ï¼š<a href="https://gist.github.com/paulirish/5d52fb081b3570c81e3a">https://gist.github.com/pauliâ€¦</a>ç‚¹å‡»é¢„è§ˆ</li>
</ul>
<p>ä»¥ä¸Šå±æ€§å’Œæ–¹æ³•éƒ½éœ€è¦è¿”å›æœ€æ–°çš„å¸ƒå±€ä¿¡æ¯ï¼Œå› æ­¤æµè§ˆå™¨ä¸å¾—ä¸æ¸…ç©ºé˜Ÿåˆ—ï¼Œè§¦å‘å›æµé‡ç»˜æ¥è¿”å›æ­£ç¡®çš„å€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨ä¿®æ”¹æ ·å¼çš„æ—¶å€™ï¼Œ<strong>æœ€å¥½é¿å…ä½¿ç”¨ä¸Šé¢åˆ—å‡ºçš„å±æ€§ï¼Œä»–ä»¬éƒ½ä¼šåˆ·æ–°æ¸²æŸ“é˜Ÿåˆ—ã€‚</strong>å¦‚æœè¦ä½¿ç”¨å®ƒä»¬ï¼Œæœ€å¥½å°†å€¼ç¼“å­˜èµ·æ¥ã€‚</p>
<h3 id="å¦‚ä½•å‡å°‘å›æµä¸é‡ç»˜å¸¦æ¥çš„æ€§èƒ½æŸå¤±"><a href="#å¦‚ä½•å‡å°‘å›æµä¸é‡ç»˜å¸¦æ¥çš„æ€§èƒ½æŸå¤±" class="headerlink" title="å¦‚ä½•å‡å°‘å›æµä¸é‡ç»˜å¸¦æ¥çš„æ€§èƒ½æŸå¤±"></a>å¦‚ä½•å‡å°‘å›æµä¸é‡ç»˜å¸¦æ¥çš„æ€§èƒ½æŸå¤±</h3><ul>
<li>å…ˆå°†å…ƒç´ è®¾ä¸º<code>display: none</code>ï¼ˆéœ€è¦1æ¬¡é‡æ’å’Œé‡ç»˜ï¼‰ï¼Œç„¶åå¯¹è¿™ä¸ªèŠ‚ç‚¹è¿›è¡Œ100æ¬¡æ“ä½œï¼Œæœ€åå†æ¢å¤æ˜¾ç¤ºï¼ˆéœ€è¦1æ¬¡é‡æ’å’Œé‡ç»˜ï¼‰ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½ å°±ç”¨ä¸¤æ¬¡é‡æ–°æ¸²æŸ“ï¼Œå–ä»£äº†å¯èƒ½é«˜è¾¾100æ¬¡çš„é‡æ–°æ¸²æŸ“ã€‚</li>
<li>positionå±æ€§ä¸º<code>absolute</code>æˆ–<code>fixed</code>çš„å…ƒç´ ï¼Œé‡æ’çš„å¼€é”€ä¼šæ¯”è¾ƒå°ï¼Œå› ä¸ºä¸ç”¨è€ƒè™‘å®ƒå¯¹å…¶ä»–å…ƒç´ çš„å½±å“ã€‚</li>
</ul>
<p>å‚è€ƒé“¾æ¥ï¼š</p>
<p><a href="https://segmentfault.com/a/1190000017329980">https://segmentfault.com/a/1190000017329980</a></p>
<p><a href="https://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html">https://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html</a></p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path">https://developer.mozilla.org/en-US/docs/Web/Performance/Critical_rendering_path</a></p>
<p><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction">https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction</a></p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Performance/How_browsers_work">https://developer.mozilla.org/zh-CN/docs/Web/Performance/How_browsers_work</a></p>
]]></content>
      <categories>
        <category>front-end</category>
      </categories>
      <tags>
        <tag>åŸºç¡€</tag>
        <tag>å›æµä¸é‡ç»˜</tag>
      </tags>
  </entry>
  <entry>
    <title>å­—èŠ‚OpenDayæ€»ç»“</title>
    <url>/2021/04/12/%E5%AD%97%E8%8A%82OpenDay%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h4 id="æ„Ÿå—"><a href="#æ„Ÿå—" class="headerlink" title="æ„Ÿå—"></a>æ„Ÿå—</h4><p>â€‹    å¤§å‚æ˜¯åœ¨é€ è½®å­ï¼Œè€Œä¸æ˜¯ä½¿ç”¨ğŸ˜¶ã€‚</p>
<h4 id="æµç¨‹"><a href="#æµç¨‹" class="headerlink" title="æµç¨‹"></a>æµç¨‹</h4><ol>
<li>é¦–å…ˆä»–ä»¬ä»‹ç»äº†å—äº¬å­—èŠ‚çš„ä¸»è¦ä¸šåŠ¡ï¼Œæ•°æ®å¹³å°ã€‚</li>
<li>è¿›å…¥Q&amp;Aç¯èŠ‚ï¼ˆä¸»è¦èŠäº†ä¸€äº›é¢è¯•éœ€è¦æ³¨æ„å•¥ï¼‰ã€‚</li>
<li>åƒåƒå·¥ä½œé¤ã€‚</li>
</ol>
<h4 id="æ”¶è·"><a href="#æ”¶è·" class="headerlink" title="æ”¶è·"></a>æ”¶è·</h4><ul>
<li>åœ¨ç®€å†ä¸­éµå¾ªSTARåŸåˆ™ï¼Œç»“å°¾çš„Resultä¸­æ³¨æ„å…·ä½“æ•°æ®ä½“ç°ã€‚</li>
<li>åœ¨é¢è¯•æ—¶è¦ä»é¢è¯•å®˜çš„è§’åº¦æ€è€ƒï¼Œè¦ä»ä¸€ä¸ªç‚¹æ‰©å±•åˆ°ä¸€ä¸ªé¢ã€‚</li>
<li>å¦‚æœåœ¨Githubå¼€æºé¡¹ç›®ä¸­æœ‰è´¡çŒ®æœ€å¥½ã€‚</li>
</ul>
<h4 id="åæ€"><a href="#åæ€" class="headerlink" title="åæ€"></a>åæ€</h4><ul>
<li>åœ¨å­¦ä¹ ä¸­è¦æ³¨æ„è„‘å›¾çš„ä½¿ç”¨ï¼Œç»„æˆè‡ªå·±çš„æŠ€æœ¯ç»“æ„</li>
</ul>
]]></content>
      <categories>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>å­¦ä¹ </tag>
        <tag>å­—èŠ‚</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä»»åŠ¡ä¸å®ä»»åŠ¡</title>
    <url>/2021/08/02/%E5%BE%AE%E4%BB%BB%E5%8A%A1%E4%B8%8E%E5%AE%8F%E4%BB%BB%E5%8A%A1/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>æˆ‘çš„ç§‹æ‹›ä¹‹è·¯</title>
    <url>/2021/10/13/%E6%88%91%E7%9A%84%E7%A7%8B%E6%8B%9B%E4%B9%8B%E8%B7%AF/</url>
    <content><![CDATA[<p>æˆ‘ <strong>ä¸ƒæœˆä»½</strong>å¼€å§‹æŠ•é€’å…¬å¸ï¼Œæˆ‘è§‰å¾—æˆ‘çš„é¢è¯•åˆ†ä¸‰ä¸ªé˜¶æ®µå§ã€‚ </p>
<ul>
<li><p>  <strong>ç¬¬ä¸€é˜¶æ®µè¯•æ¢é˜¶æ®µ</strong>ï¼Œç¬¬ä¸€å®¶é¢äº†<strong>æµ™æ±Ÿ<a href="">å¤§å</a>æå‰æ‰¹</strong>ï¼Œä¸¤è½®æŠ€æœ¯é¢åŠ HRé¢ï¼Œæœ€åæ”¶è·æ„å‘ã€‚è¿™ä¸ªé˜¶æ®µåªæ˜¯ä¸ºäº†æ‰¾æ‰¾ç§‹æ‹›çš„èŠ‚å¥ï¼Œè€Œä¸”ä¹Ÿå†™äº†å¾ˆå¤šå…¬å¸çš„ç¬”è¯•ã€‚ </p>
</li>
<li><p> <strong>ç¬¬äºŒé˜¶æ®µè‡ªæ€å¼æŠ•é€’å¤§å‚</strong>ï¼Œé¦–å…ˆé¢äº†**<a href="">ç¾å›¢</a>æ™ºæ…§äº¤é€šå¹³å°<strong>ï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡é¢äº’è”ç½‘å¤§å‚ï¼Œç¨å¾®æœ‰ä¸€ç‚¹ç´§å¼ ï¼Œä½†é¢è¯•å®˜å¾ˆniceï¼Œå½“æ—¶é¢äº†å°†è¿‘80åˆ†é’Ÿå·¦å³ï¼Œä½†æ˜¯ä¸€é¢æŒ‚äº†ã€‚ã€‚ã€‚ ç„¶åé¢äº†</strong>å­—èŠ‚<strong>ï¼Œå­—èŠ‚ä¸€é¢çš„é¢è¯•ä½“éªŒå¾ˆå¥½ï¼Œé¢è¯•å®˜ä¹ŸæŒºå¹´è½»çš„ï¼Œä¸€é¢é¡ºåˆ©é€šè¿‡äº†ï¼Œå­—èŠ‚äºŒé¢ç¢°åˆ°ä¸€äº›è‡ªå·±æ²¡æœ‰å‡†å¤‡çš„ä¸œè¥¿å°±GGäº†ï¼Œå†ç„¶åé¢äº†</strong><a href="">è…¾è®¯</a>TEG<strong>ï¼Œåœ¨è§†é¢‘é¢ä¹‹å‰,æ¥äº†ä¸¤è½®ç”µè¯é¢ï¼Œè®°å¾—æˆ‘å½“æ—¶æ¥åˆ°ç”µè¯é¢è¯•çš„å¿ƒæƒ…æ˜¯å¾ˆæ‡µçš„ä¸€åº¦ä»¥ä¸ºä¸æ˜¯<a href="">è…¾è®¯</a>ï¼Œä¸¤è½®ç”µè¯é¢è¯•ä¸­é¢è¯•å®˜éƒ½å¾ˆniceï¼Œç´§æ¥ç€ç­‰æ¥äº†è§†é¢‘ä¸€é¢ï¼Œä¸€é¢ä¸»è¦æ˜¯åšé¢˜ï¼Œé¢è¯•ç®¡æ²¡æœ‰é—®å•¥é—®é¢˜ï¼Œå¯èƒ½æ˜¯å› ä¸ºæˆ‘ä¹‹å‰å·²ç»ä¸¤è½®ç”µè¯é¢äº†ğŸ˜¶ï¼Œåœ¨ç¬¬äºŒè½®é¢è¯•ä¸­ï¼Œæˆ‘æ˜æ˜¾æ„Ÿè§‰é¢è¯•å®˜æ°”åœºä¸ä¸€æ ·ï¼Œæ­»æ­»è¢«å‹åˆ¶ï¼Œä»¥è‡³äºå¾ˆå¤šä¸œè¥¿åªèƒ½è¯´äº†è§£è¿‡ï¼Œä½†æ²¡æœ‰ä½¿ç”¨ç»å†ï¼Œèœç‹—ç•™ä¸‹æ²¡æœ‰æŠ€æœ¯çš„çœ¼æ³ªã€‚åŒæ—¶ï¼Œåœ¨å¤§å‚é¢è¯•ä¸­ä¹Ÿç©¿æ’ç€</strong><a href="">ç™¾åº¦</a>ä¸€é¢<strong>å’Œ</strong><a href="">æœ‰èµ</a>ä¸€é¢ ï¼Œ**ç®€å•æ¥è¯´<a href="">ç™¾åº¦</a>æ­»äºæ™ºåŠ›é¢˜ï¼Œ<a href="">æœ‰èµ</a>è´¥åœ¨<a href="">é¡¹ç›®</a>ç»å†ã€‚ã€‚ </p>
</li>
<li><p> <strong>ç¬¬ä¸‰é˜¶æ®µè®¤æ¸…è‡ªå·±æŠ•é€’ä¸­å‚ï¼Œ</strong><a href="">å°çº¢ä¹¦</a><strong>ä¸‰é¢ç»“æŸç­‰å¾…è¢«æä¸­ï¼Œ9.30å·æ”¶åˆ°é‚®ä»¶é€šçŸ¥è¿‘æœŸä¼šæœ‰HRè”ç³»ã€‚</strong>å—äº¬å¸†è½¯<strong>ä¸€é¢ç»“æŸåè¿›å…¥offerå®¡æ‰¹ä¸­ï¼Œå·²ç»æ”¶åˆ°æ„å‘ã€‚</strong><a href="">ç¾å›¢</a>ä¼˜é€‰è¢«æï¼Œä½†åœ¨ç¬¬äºŒè½®è§†é¢‘é¢è¯•ä¸­ï¼Œè§‰å¾—è‡ªå·±ç¬¬äºŒé“åœºæ™¯é¢˜å†™çš„å¹¶ä¸å¥½ï¼Œä½†è¿˜æ˜¯åœ¨åƒé¥­æ—¶æ”¶åˆ°HRé¢é‚€è¯·ï¼ŒHRé¢ç»“æŸåè‡³ä»Šæ²¡æœ‰æ¶ˆæ¯ã€‚é€šè¿‡<a href="">åä¸º</a>è¿è¥å•†BGæœºè¯•ï¼Œä¸“ä¸šé¢è¯•ï¼Œç„¶åæŒ‚åœ¨ä¸»ç®¡é¢ã€‚ã€‚ã€‚ </p>
</li>
</ul>
<p>  è¿™å°±æ˜¯æœ¬èœç‹—ç§‹æ‹›ä¹‹è·¯ï¼Œå¸Œæœ›æ¯ä¸€ä¸ªçœ‹åˆ°æ–‡ç« çš„äººéƒ½èƒ½æ”¶è·è‡ªå·±æƒ³è¦çš„offerå§ã€‚ã€‚</p>
]]></content>
      <categories>
        <category>æ„Ÿæ‚Ÿ</category>
      </categories>
      <tags>
        <tag>æ±‚èŒ</tag>
        <tag>æ ¡æ‹›</tag>
      </tags>
  </entry>
</search>
